<ng-container *ngIf="problem">
  <div class="header">
    <div>
      <h1>{{problem.id}}. {{problem.title}} - {{problem.points}} {{'point'|pluralize:problem.points}}</h1>
    </div>
    <div class="flex horizontal">
      <input type="button" value="Test" (click)="submitClicked(true)">
      <input type="button" value="Submit" (click)="submitClicked(false)">
    </div>
  </div>
  <div class="flex display-side">
    <app-card title="Problem">
      <p>{{problem.description}}</p>
    </app-card>
    <app-card title="IO">
      <table>
        <thead>
        <tr>
          <th>Input</th>
          <th>Output</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let testCase of problem.testCases">
          <ng-container *ngIf="!testCase.hidden">
            <td><code>{{testCase.input}}</code></td>
            <td><code>{{testCase.output}}</code></td>
          </ng-container>
        </tr>
        </tbody>
      </table>
    </app-card>
  </div>
  <div class="flex right">
    <select [(ngModel)]="language" (change)="saveCode()" name="language">
      <option value="python" selected>Python 3</option>
      <option value="java">Java</option>
      <option value="cpp">C++</option>
    </select>
  </div>
  <codemirror [config]="{ lineNumbers: true, mode: 'text/x-python' }" *ngIf="language === 'python'"></codemirror>
  <codemirror [config]="{ lineNumbers: true, mode: 'text/x-java' }" *ngIf="language === 'java'"></codemirror>
  <codemirror [config]="{ lineNumbers: true, mode: 'text/x-c++src' }" *ngIf="language === 'cpp'"></codemirror>
  <br>
  <app-card *ngIf="submissions" title="Submissions">
    <ul>
      <li *ngFor="let submission of submissions; let i = index"><a [routerLink]="['/', 'dashboard', 'submission', submission._id]">Submission {{i + 1}}</a></li>
    </ul>
  </app-card>
</ng-container>